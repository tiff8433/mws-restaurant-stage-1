{"id":"lRug","dependencies":[{"name":"/Users/tiffanyhuang/Desktop/GwG/mws-restaurant-stage-1/package.json","includedInParent":true,"mtime":1534098967000},{"name":"idb","loc":{"line":1,"column":16},"parent":"/Users/tiffanyhuang/Desktop/GwG/mws-restaurant-stage-1/js/idb/index.js","resolved":"/Users/tiffanyhuang/Desktop/GwG/mws-restaurant-stage-1/node_modules/idb/lib/idb.js"}],"generated":{"js":"\"use strict\";var t=require(\"idb\"),e=r(t);function r(t){return t&&t.__esModule?t:{default:t}}var n=e.default.open(\"db\",1,function(t){switch(t.oldVersion){case 1:t.createObjectStore(\"restaurant\").createIndex(\"name\",\"cuisine\",\"neighborhood\")}}),a={get:function(t){return n.then(function(e){e.transaction(\"restaurant\").objectStore(\"restaurant\").get(t)})},set:function(t,e){return n.then(function(r){var n=r.transaction(\"restaurant\",\"readwrite\");return n.objectStore(\"restaurant\").put(e,t),n.complete})},delete:function(t){return n.then(function(e){var r=e.transaction(\"restaurant\",\"readwrite\");return r.objectStore(\"restaurant\").delete(t),r.complete})},clear:function(){return n.then(function(t){var e=t.transaction(\"restaurant\",\"readwrite\");return e.objectStore(\"restaurant\").clear(),e.complete})},keys:function(){return n.then(function(t){var e=t.transaction(\"restaurant\"),r=[],n=e.objectStore(\"restaurant\");return(n.iterateKeyCursor||n.iterateCursor).call(n,function(t){t&&(r.push(t.key),t.continue())}),e.complete.then(function(){return r})})}};","map":{"mappings":[{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":0}},{"source":"js/idb/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"js/idb/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"js/idb/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"js/idb/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":34}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":36}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":38}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":41}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":50}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":52}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":55}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":62}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":65}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":67}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":78}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":80}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":81}},{"source":"js/idb/index.js","original":{"line":104,"column":0},"generated":{"line":1,"column":89}},{"source":"js/idb/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":92}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":4,"column":6},"generated":{"line":1,"column":96}},{"source":"js/idb/index.js","name":"idb","original":{"line":4,"column":18},"generated":{"line":1,"column":98}},{"source":"js/idb/index.js","name":"open","original":{"line":4,"column":22},"generated":{"line":1,"column":100}},{"source":"js/idb/index.js","name":"open","original":{"line":4,"column":22},"generated":{"line":1,"column":108}},{"source":"js/idb/index.js","original":{"line":4,"column":27},"generated":{"line":1,"column":113}},{"source":"js/idb/index.js","original":{"line":4,"column":33},"generated":{"line":1,"column":118}},{"source":"js/idb/index.js","original":{"line":4,"column":36},"generated":{"line":1,"column":120}},{"source":"js/idb/index.js","name":"upgradeDb","original":{"line":4,"column":37},"generated":{"line":1,"column":129}},{"source":"js/idb/index.js","name":"upgradeDb","original":{"line":5,"column":11},"generated":{"line":1,"column":132}},{"source":"js/idb/index.js","name":"upgradeDb","original":{"line":5,"column":11},"generated":{"line":1,"column":139}},{"source":"js/idb/index.js","name":"oldVersion","original":{"line":5,"column":21},"generated":{"line":1,"column":141}},{"source":"js/idb/index.js","original":{"line":6,"column":13},"generated":{"line":1,"column":153}},{"source":"js/idb/index.js","original":{"line":6,"column":13},"generated":{"line":1,"column":158}},{"source":"js/idb/index.js","name":"upgradeDb","original":{"line":7,"column":36},"generated":{"line":1,"column":160}},{"source":"js/idb/index.js","name":"createObjectStore","original":{"line":7,"column":46},"generated":{"line":1,"column":162}},{"source":"js/idb/index.js","original":{"line":7,"column":64},"generated":{"line":1,"column":180}},{"source":"js/idb/index.js","name":"createIndex","original":{"line":8,"column":28},"generated":{"line":1,"column":194}},{"source":"js/idb/index.js","original":{"line":8,"column":40},"generated":{"line":1,"column":206}},{"source":"js/idb/index.js","original":{"line":8,"column":48},"generated":{"line":1,"column":213}},{"source":"js/idb/index.js","original":{"line":8,"column":59},"generated":{"line":1,"column":223}},{"source":"js/idb/index.js","name":"restaurantIdb","original":{"line":13,"column":6},"generated":{"line":1,"column":242}},{"source":"js/idb/index.js","original":{"line":13,"column":22},"generated":{"line":1,"column":244}},{"source":"js/idb/index.js","original":{"line":13,"column":22},"generated":{"line":1,"column":245}},{"source":"js/idb/index.js","name":"key","original":{"line":14,"column":8},"generated":{"line":1,"column":249}},{"source":"js/idb/index.js","name":"key","original":{"line":14,"column":8},"generated":{"line":1,"column":258}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":15,"column":15},"generated":{"line":1,"column":261}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":15,"column":15},"generated":{"line":1,"column":268}},{"source":"js/idb/index.js","name":"then","original":{"line":15,"column":25},"generated":{"line":1,"column":270}},{"source":"js/idb/index.js","original":{"line":15,"column":30},"generated":{"line":1,"column":275}},{"source":"js/idb/index.js","original":{"line":15,"column":36},"generated":{"line":1,"column":284}},{"source":"js/idb/index.js","name":"transaction","original":{"line":16,"column":15},"generated":{"line":1,"column":287}},{"source":"js/idb/index.js","name":"transaction","original":{"line":16,"column":15},"generated":{"line":1,"column":289}},{"source":"js/idb/index.js","original":{"line":16,"column":27},"generated":{"line":1,"column":301}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":17,"column":17},"generated":{"line":1,"column":315}},{"source":"js/idb/index.js","original":{"line":17,"column":29},"generated":{"line":1,"column":327}},{"source":"js/idb/index.js","name":"get","original":{"line":17,"column":43},"generated":{"line":1,"column":341}},{"source":"js/idb/index.js","name":"key","original":{"line":17,"column":47},"generated":{"line":1,"column":345}},{"source":"js/idb/index.js","original":{"line":13,"column":22},"generated":{"line":1,"column":351}},{"source":"js/idb/index.js","name":"key","original":{"line":20,"column":8},"generated":{"line":1,"column":355}},{"source":"js/idb/index.js","name":"key","original":{"line":20,"column":8},"generated":{"line":1,"column":364}},{"source":"js/idb/index.js","name":"val","original":{"line":20,"column":13},"generated":{"line":1,"column":366}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":21,"column":15},"generated":{"line":1,"column":369}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":21,"column":15},"generated":{"line":1,"column":376}},{"source":"js/idb/index.js","name":"then","original":{"line":21,"column":25},"generated":{"line":1,"column":378}},{"source":"js/idb/index.js","original":{"line":21,"column":30},"generated":{"line":1,"column":383}},{"source":"js/idb/index.js","original":{"line":21,"column":36},"generated":{"line":1,"column":392}},{"source":"js/idb/index.js","name":"tx","original":{"line":22,"column":18},"generated":{"line":1,"column":395}},{"source":"js/idb/index.js","name":"tx","original":{"line":22,"column":18},"generated":{"line":1,"column":399}},{"source":"js/idb/index.js","name":"db","original":{"line":22,"column":23},"generated":{"line":1,"column":401}},{"source":"js/idb/index.js","name":"transaction","original":{"line":22,"column":26},"generated":{"line":1,"column":403}},{"source":"js/idb/index.js","original":{"line":22,"column":38},"generated":{"line":1,"column":415}},{"source":"js/idb/index.js","original":{"line":22,"column":52},"generated":{"line":1,"column":428}},{"source":"js/idb/index.js","name":"tx","original":{"line":24,"column":19},"generated":{"line":1,"column":441}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":23,"column":15},"generated":{"line":1,"column":448}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":23,"column":15},"generated":{"line":1,"column":450}},{"source":"js/idb/index.js","original":{"line":23,"column":27},"generated":{"line":1,"column":462}},{"source":"js/idb/index.js","name":"put","original":{"line":23,"column":41},"generated":{"line":1,"column":476}},{"source":"js/idb/index.js","name":"val","original":{"line":23,"column":45},"generated":{"line":1,"column":480}},{"source":"js/idb/index.js","name":"key","original":{"line":23,"column":50},"generated":{"line":1,"column":482}},{"source":"js/idb/index.js","name":"tx","original":{"line":24,"column":19},"generated":{"line":1,"column":485}},{"source":"js/idb/index.js","name":"complete","original":{"line":24,"column":22},"generated":{"line":1,"column":487}},{"source":"js/idb/index.js","original":{"line":13,"column":22},"generated":{"line":1,"column":499}},{"source":"js/idb/index.js","name":"key","original":{"line":27,"column":11},"generated":{"line":1,"column":506}},{"source":"js/idb/index.js","name":"key","original":{"line":27,"column":11},"generated":{"line":1,"column":515}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":28,"column":15},"generated":{"line":1,"column":518}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":28,"column":15},"generated":{"line":1,"column":525}},{"source":"js/idb/index.js","name":"then","original":{"line":28,"column":25},"generated":{"line":1,"column":527}},{"source":"js/idb/index.js","original":{"line":28,"column":30},"generated":{"line":1,"column":532}},{"source":"js/idb/index.js","original":{"line":28,"column":36},"generated":{"line":1,"column":541}},{"source":"js/idb/index.js","name":"tx","original":{"line":29,"column":18},"generated":{"line":1,"column":544}},{"source":"js/idb/index.js","name":"tx","original":{"line":29,"column":18},"generated":{"line":1,"column":548}},{"source":"js/idb/index.js","name":"db","original":{"line":29,"column":23},"generated":{"line":1,"column":550}},{"source":"js/idb/index.js","name":"transaction","original":{"line":29,"column":26},"generated":{"line":1,"column":552}},{"source":"js/idb/index.js","original":{"line":29,"column":38},"generated":{"line":1,"column":564}},{"source":"js/idb/index.js","original":{"line":29,"column":52},"generated":{"line":1,"column":577}},{"source":"js/idb/index.js","name":"tx","original":{"line":31,"column":19},"generated":{"line":1,"column":590}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":30,"column":15},"generated":{"line":1,"column":597}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":30,"column":15},"generated":{"line":1,"column":599}},{"source":"js/idb/index.js","original":{"line":30,"column":27},"generated":{"line":1,"column":611}},{"source":"js/idb/index.js","name":"delete","original":{"line":30,"column":41},"generated":{"line":1,"column":625}},{"source":"js/idb/index.js","name":"key","original":{"line":30,"column":48},"generated":{"line":1,"column":632}},{"source":"js/idb/index.js","name":"tx","original":{"line":31,"column":19},"generated":{"line":1,"column":635}},{"source":"js/idb/index.js","name":"complete","original":{"line":31,"column":22},"generated":{"line":1,"column":637}},{"source":"js/idb/index.js","original":{"line":13,"column":22},"generated":{"line":1,"column":649}},{"source":"js/idb/index.js","original":{"line":34,"column":12},"generated":{"line":1,"column":655}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":35,"column":15},"generated":{"line":1,"column":666}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":35,"column":15},"generated":{"line":1,"column":673}},{"source":"js/idb/index.js","name":"then","original":{"line":35,"column":25},"generated":{"line":1,"column":675}},{"source":"js/idb/index.js","original":{"line":35,"column":30},"generated":{"line":1,"column":680}},{"source":"js/idb/index.js","original":{"line":35,"column":36},"generated":{"line":1,"column":689}},{"source":"js/idb/index.js","name":"tx","original":{"line":36,"column":18},"generated":{"line":1,"column":692}},{"source":"js/idb/index.js","name":"tx","original":{"line":36,"column":18},"generated":{"line":1,"column":696}},{"source":"js/idb/index.js","name":"db","original":{"line":36,"column":23},"generated":{"line":1,"column":698}},{"source":"js/idb/index.js","name":"transaction","original":{"line":36,"column":26},"generated":{"line":1,"column":700}},{"source":"js/idb/index.js","original":{"line":36,"column":38},"generated":{"line":1,"column":712}},{"source":"js/idb/index.js","original":{"line":36,"column":52},"generated":{"line":1,"column":725}},{"source":"js/idb/index.js","name":"tx","original":{"line":38,"column":19},"generated":{"line":1,"column":738}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":37,"column":15},"generated":{"line":1,"column":745}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":37,"column":15},"generated":{"line":1,"column":747}},{"source":"js/idb/index.js","original":{"line":37,"column":27},"generated":{"line":1,"column":759}},{"source":"js/idb/index.js","name":"clear","original":{"line":37,"column":41},"generated":{"line":1,"column":773}},{"source":"js/idb/index.js","name":"tx","original":{"line":38,"column":19},"generated":{"line":1,"column":781}},{"source":"js/idb/index.js","name":"complete","original":{"line":38,"column":22},"generated":{"line":1,"column":783}},{"source":"js/idb/index.js","original":{"line":13,"column":22},"generated":{"line":1,"column":795}},{"source":"js/idb/index.js","original":{"line":41,"column":11},"generated":{"line":1,"column":800}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":42,"column":15},"generated":{"line":1,"column":811}},{"source":"js/idb/index.js","name":"dbPromise","original":{"line":42,"column":15},"generated":{"line":1,"column":818}},{"source":"js/idb/index.js","name":"then","original":{"line":42,"column":25},"generated":{"line":1,"column":820}},{"source":"js/idb/index.js","original":{"line":42,"column":30},"generated":{"line":1,"column":825}},{"source":"js/idb/index.js","original":{"line":42,"column":36},"generated":{"line":1,"column":834}},{"source":"js/idb/index.js","name":"tx","original":{"line":43,"column":18},"generated":{"line":1,"column":837}},{"source":"js/idb/index.js","name":"tx","original":{"line":43,"column":18},"generated":{"line":1,"column":841}},{"source":"js/idb/index.js","name":"db","original":{"line":43,"column":23},"generated":{"line":1,"column":843}},{"source":"js/idb/index.js","name":"transaction","original":{"line":43,"column":26},"generated":{"line":1,"column":845}},{"source":"js/idb/index.js","original":{"line":43,"column":38},"generated":{"line":1,"column":857}},{"source":"js/idb/index.js","name":"keys","original":{"line":44,"column":18},"generated":{"line":1,"column":871}},{"source":"js/idb/index.js","original":{"line":44,"column":25},"generated":{"line":1,"column":873}},{"source":"js/idb/index.js","name":"store","original":{"line":45,"column":18},"generated":{"line":1,"column":876}},{"source":"js/idb/index.js","name":"tx","original":{"line":45,"column":26},"generated":{"line":1,"column":878}},{"source":"js/idb/index.js","name":"objectStore","original":{"line":45,"column":29},"generated":{"line":1,"column":880}},{"source":"js/idb/index.js","original":{"line":45,"column":41},"generated":{"line":1,"column":892}},{"source":"js/idb/index.js","name":"tx","original":{"line":52,"column":19},"generated":{"line":1,"column":906}},{"source":"js/idb/index.js","name":"store","original":{"line":47,"column":13},"generated":{"line":1,"column":913}},{"source":"js/idb/index.js","name":"iterateKeyCursor","original":{"line":47,"column":19},"generated":{"line":1,"column":915}},{"source":"js/idb/index.js","name":"store","original":{"line":47,"column":39},"generated":{"line":1,"column":933}},{"source":"js/idb/index.js","name":"iterateCursor","original":{"line":47,"column":45},"generated":{"line":1,"column":935}},{"source":"js/idb/index.js","name":"call","original":{"line":47,"column":60},"generated":{"line":1,"column":950}},{"source":"js/idb/index.js","name":"store","original":{"line":47,"column":65},"generated":{"line":1,"column":955}},{"source":"js/idb/index.js","original":{"line":47,"column":72},"generated":{"line":1,"column":957}},{"source":"js/idb/index.js","original":{"line":47,"column":82},"generated":{"line":1,"column":966}},{"source":"js/idb/index.js","name":"cursor","original":{"line":48,"column":21},"generated":{"line":1,"column":969}},{"source":"js/idb/index.js","name":"push","original":{"line":49,"column":21},"generated":{"line":1,"column":973}},{"source":"js/idb/index.js","name":"push","original":{"line":49,"column":21},"generated":{"line":1,"column":975}},{"source":"js/idb/index.js","name":"cursor","original":{"line":49,"column":26},"generated":{"line":1,"column":980}},{"source":"js/idb/index.js","name":"key","original":{"line":49,"column":33},"generated":{"line":1,"column":982}},{"source":"js/idb/index.js","name":"continue","original":{"line":50,"column":23},"generated":{"line":1,"column":987}},{"source":"js/idb/index.js","name":"continue","original":{"line":50,"column":23},"generated":{"line":1,"column":989}},{"source":"js/idb/index.js","name":"tx","original":{"line":52,"column":19},"generated":{"line":1,"column":1003}},{"source":"js/idb/index.js","name":"complete","original":{"line":52,"column":22},"generated":{"line":1,"column":1005}},{"source":"js/idb/index.js","name":"then","original":{"line":52,"column":31},"generated":{"line":1,"column":1014}},{"source":"js/idb/index.js","original":{"line":52,"column":36},"generated":{"line":1,"column":1019}},{"source":"js/idb/index.js","name":"keys","original":{"line":52,"column":42},"generated":{"line":1,"column":1030}},{"source":"js/idb/index.js","name":"keys","original":{"line":52,"column":42},"generated":{"line":1,"column":1037}}],"sources":{"js/idb/index.js":"import idb from 'idb';\n\n// set up db store\nconst dbPromise = idb.open('db', 1, (upgradeDb) => {\n    switch(upgradeDb.oldVersion) {\n        case 1:\n            const restaurantStore = upgradeDb.createObjectStore('restaurant');\n            restaurantStore.createIndex('name', 'cuisine', 'neighborhood');\n\n    }\n});\n\nconst restaurantIdb = {\n    get(key) {\n        return dbPromise.then(db => {\n            db.transaction('restaurant')\n                .objectStore('restaurant').get(key)\n        });\n    },\n    set(key, val) {\n        return dbPromise.then(db => {\n            const tx = db.transaction('restaurant', 'readwrite');\n            tx.objectStore('restaurant').put(val, key);\n            return tx.complete;\n        });\n    },\n    delete(key) {\n        return dbPromise.then(db => {\n            const tx = db.transaction('restaurant', 'readwrite');\n            tx.objectStore('restaurant').delete(key);\n            return tx.complete;\n        });\n    },\n    clear() {\n        return dbPromise.then(db => {\n            const tx = db.transaction('restaurant', 'readwrite');\n            tx.objectStore('restaurant').clear();\n            return tx.complete;\n        });\n    },\n    keys() {\n        return dbPromise.then(db => {\n            const tx = db.transaction('restaurant');\n            const keys = [];\n            const store = tx.objectStore('restaurant');\n\n            (store.iterateKeyCursor || store.iterateCursor).call(store, cursor => {\n                if (!cursor) return;\n                keys.push(cursor.key);\n                cursor.continue();\n            });\n            return tx.complete.then(() => keys);\n        })\n    }\n};\n\n\n// get a value\n// dbPromise.then((db) => {\n//     const tx = db.transaction('restaurant');\n//     const restaurantStore = tx.objectStore('restaurant');\n//     return restaurantStore.get('rest');\n// }).then((val) => {\n//     console.log('The value of \"rest\" is\", val');\n// });\n\n// set a value\n// dbPromise.then((db) => {\n//     const tx = db.transaction('restaurant', 'readwrite');\n//     const restaurantStore = tx.objectStore('restaurant');\n//     restaurantStore.put('restaurant_id', 'restaurant_obj');\n//     return tx.complete;\n// }).then((val) => {\n//     console.log('Added restaurant_obj to restaurant_id');\n// });\n\n// return all\n// dbPromise.then((db) => {\n//     const tx = db.transaaction('restaurant');\n//     const restStore = tx.objectStore('restaurant');\n//     const neighborhoodIdx = restStore.index('neighborhood');\n//     return neighborhoodIdx.getAll();\n// }).then((restaurants) => {\n//     console.log('indexed by neighborhood', restaurants);\n// });\n\n\n// // iterate through list\n// dbPromise.then((db) => {\n//     const tx = db.transaaction('restaurant');\n//     const restStore = tx.objectStore('restaurant');\n//     const neighborhoodIdx = restStore.index('neighborhood');\n//     return neighborhoodIdx.openCursor();\n// }).then(function logRestaurant(cursor) {\n//     if (!cursor) return;\n//     console.log('cursored at:', cursor.value.name);\n\n//     // update: cursor.update\n//     // delete: cursor.delete\n//     // skip: cursor.advance(numtoAdvance)\n//     return cursor.continue().then(logRestaurant);\n// }).then(() => {\n//     console.log('done cursoring');\n// });\n\n"},"lineCount":null}},"hash":"f2b9531149ba457bd0dcb378b1c43dc6","cacheData":{"env":{}}}